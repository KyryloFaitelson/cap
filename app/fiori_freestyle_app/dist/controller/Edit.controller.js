sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","../model/formatter","sap/m/MessageBox","sap/m/MessageToast"],function(e,t,i,o,n,s){"use strict";return e.extend("com.nttdata.fiorifreestyleapp.controller.Edit",{formatter:o,onInit:function(){var e=new t({busy:true,delay:0,id:""});this.getRouter().getRoute("edit").attachPatternMatched(this._onObjectMatched,this);this.setModel(e,"editView");var i=this.getView().byId("ObjectPageLayout"),o=i.getShowFooter();i.setShowFooter(!o)},_onObjectMatched:function(e){var t=e.getParameter("arguments").objectId;this.getModel("editView").setProperty("/id","/Products"+t);this._bindView("/Products"+t)},onSave:function(){history.go(-1)},onCancel:function(){history.go(-1)},_bindView:function(e){var t=this.getModel("editView");this.getView().bindElement({path:e,events:{change:this._onBindingChange.bind(this),dataRequested:function(){t.setProperty("/busy",true)},dataReceived:function(){t.setProperty("/busy",false)}}})},_onBindingChange:function(){var e=this.getView(),t=this.getModel("editView"),i=e.getElementBinding();if(!i.getBoundContext()){this.getRouter().getTargets().display("objectNotFound");return}var o=this.getResourceBundle(),n=e.getBindingContext().getObject(),s=n.ID,r=n.Products;t.setProperty("/busy",false);t.setProperty("/shareSendEmailSubject",o.getText("shareSendEmailObjectSubject",[s]));t.setProperty("/shareSendEmailMessage",o.getText("shareSendEmailObjectMessage",[r,s,location.href]))}})});